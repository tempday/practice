~function(w,d){function Docms(e,t){return new Docms.fun.init(e,t)}function jsonToStr(e){var t="";for(var s in e)t+=s+"="+e[s]+"&";return t.replace(/&+$/,"")}function merge(e){var t={type:"get",url:"",async:!0,cache:!1,data:{},dataType:"",success:function(){},beforeSend:function(){},complete:function(){}};e=e||{};for(var s in t)t[s]=void 0===e[s]?t[s]:e[s];return t}if(Docms.fun={name:"document manipulation set",init:function(e,t){this.elems=[],this.count=0,this.tempElems=[],this.isChaining=!1,this.parent=null,this.children=null,this.source=[],this.elemStack=[],this.getElems(e,t)},getElems:function(e,t){if(this.elems=[],"string"==typeof t&&(t=this.getElems(t).elems[0]),this.elems=[],t&&1===t.nodeType||(t&&1!==t.nodeType&&9!==t.nodeType&&console.error("Docms tips:getElems() invalid origin"),t=d),void 0==e||""==e)return this;if("object"==typeof e)e instanceof Docms.fun.init?this.elems=e.elems:1===e.nodeType||9===e.nodeType||e===w?this.elems[0]=e:e.length>0&&(this.elems=e);else{if("string"!=typeof e)return this;if(/^\s*<.*?>\s*$/.test(e)){var s=d.createElement("div");s.innerHTML=e,this.elems=s.children}else{e=e.trim().replace(/\s{2,}/g," ").match(/[^,]+/g);for(var n=0;n<e.length;n++)this.elems=this.elems.concat(Docms.query(e[n].trim(),t))}}return this.resetElems(),this},resetElems:function(e){if(e&&(this.elems=e),this.count>this.elems.length)for(t=0;t<this.count-this.elems.length;t++)delete this[this.count-1-t];for(var t=0,s=[];t<this.elems.length;t++)this.elems[t]&&(s.push(this.elems[t]),this[t]=this.elems[t]);this.elems=s,this.count=this.elems.length,this.elems[0]&&this.elems[0]!==w?(this.parent=this.elems[0].parentNode,this.children=Docms.arrConvert(this.elems[0].children)):this.children=this.parent=null},getByAttr:function(e,t,s){this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.isChaining=!0,t=t||"";var n,i=this.elems[0]||d,r=[],o=Docms.regOfIndStr(t),l=[],h=[];s=s||"*",r=Docms.fun.getElems(s,i).elems;for(var c=0;c<r.length;c++)(n="class"==e?r[c].className:r[c].getAttribute(e))&&((n=n.replace(/^\s*|\s*$/g,""))&&l.push(r[c]),"class"==e?t&&o.test(n)&&h.push(r[c]):n==t&&h.push(r[c]));return t?this.resetElems(h):this.resetElems(l),this},addClass:function(e){if(this.elems.length)for(var t=0;t<this.elems.length;t++)this.elems[t].className=""==this.elems[t].className?e:this.elems[t].className+" "+e;return this},removeClass:function(e){var t=Docms.regOfIndStr(e,"g");if(this.elems.length)for(var s=0;s<this.elems.length;s++)this.elems[s].className=this.elems[s].className.replace(t,"").replace(/^\s*|\s*$/g,"");return this},addEvent:function(e,t,s){if(s=s||!1,this.elems.length)for(var n=0;n<this.elems.length;n++)this.elems[n].addEventListener?this.elems[n].addEventListener(e,t,s):this.elems[n].attachEvent&&(this.elems[n].fn=t,this.elems[n].attachEvent("on"+e,this.elems[n].fn),this.elems[n].removeAttribute("fn"))},removeEvent:function(e,t,s){if(s=s||!1,this.elems.length)for(var n=0;n<this.elems.length;n++)this.elems[n].removeEventListener?this.elems[n].removetListener(e,t,s):this.elems[n].detachEvent&&this.elems[n].detachEvent("on"+e,t,s)},on:function(e,t){if(this.elems.length)for(var s=0;s<this.elems.length;s++)this.elems[s]["on"+e]=t},fetch:function(e){if(void 0==e||e>=this.elems.length)throw new RangeError("Docms tips:fetch() n is out of index.");return this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.elems=[],this.elems[0]=this.isChaining?this.tempElems[e]:this.source[e],this.isChaining=!0,this.resetElems(),this},sup:function(e){if(!this.elems.length)return this;this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.elems=[],this.elems[0]=this.isChaining?this.tempElems[0]:this.source[0],this.isChaining=!0,e=e||0;do{this.elems[0]=this.elems[0].parentNode}while(e--);return this.resetElems(),this},sub:function(e){return this.elems.length?(this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,"string"==typeof e&&e?this.elems=Docms.elemsFilter(this.elems[0].children,e):"number"==typeof e?(this.elems=[],this.elems[0]=this.tempElems[0].children[e]):this.elems=this.elems[0].children,this.isChaining=!0,this.resetElems(),this):this},all:function(e,t){if(!this.elems.length)return this;if(arguments.length)for(var s=0,n="",i=!1;s<arguments.length;s++)"string"==typeof arguments[s]&&(n=arguments[s]),"boolean"==typeof arguments[s]&&(i=arguments[s]);e=n,t=i,this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.isChaining=!0;for(var r,o=[],s=0;s<this.elems.length;s++)r=[],r=this.elems[s].getElementsByTagName("*"),e&&(r=Docms.elemsFilter(r,e)),e||(r=Docms.arrConvert(r)),o=o.concat(r);return t&&(o=this.elems.concat(o)),this.elems=o,this.resetElems(),this},me:function(){return this.isChaining&&(this.isChaining=!1,this.tempElems=[],this.elems=this.source,this.resetElems()),this},hasAttr:function(e,t){if(!this.elems.length)return this;this.isChaining=!0,this.tempElems=this.elems,t=t||"";for(var s,n=Docms.regOfIndStr(t),i=[],r=[],o=0;o<this.elems.length;o++)(s="class"==e?this.elems[o].className:this.elems[o].getAttribute(e))&&((s=s.replace(/^\s*|\s*$/g,""))&&i.push(this.elems[o]),"class"==e?t&&n.test(s)&&r.push(this.elems[o]):s==t&&r.push(this.elems[o]));return this.elems=[],t?this.resetElems(r):this.resetElems(i),this},each:function(e){for(var t=0;t<this.elems.length;t++)this.elems[t].fn=e,this.elems[t].fn(t,this.elems[t]),this.elems[t].removeAttribute("fn");return this},appendTo:function(e){e instanceof Docms.fun.init&&(e=e[0]);for(var t=0;t<this.elems.length;e.appendChild(this.elems[t++]));},append:function(e){if(e instanceof Docms.fun.init&&(e=e.elems),1==e.nodeType)this[0].appendChild(e);else for(var t=0;t<e.length;this[0].appendChild(e[t++]));},insert:function(e){},css:function(e,t){for(var s=/height|width|margin|padding|font|left|right|top|bottom/,n=0;n<this.elems.length;n++){if("object"==typeof e){for(var i in e)s.test(i)&&"number"==typeof e[i]&&0!=e[i]&&(e[i]+="px"),"opacity"==i&&(this.elems[n].style.filter="alpha(opacity="+100*e[i]+")"),this.elems[n].style[i]=e[i];return this}if(!t)return window.getComputedStyle?e?window.getComputedStyle(this.elems[n],null)[e]:window.getComputedStyle(this.elems[n],null):e?this.elems[n].currentStyle[e]:this.elems[n].currentStyle;if("string"==typeof e)return"opacity"==e&&(this.elems[n].style.filter="alpha(opacity="+100*t+")"),this.elems[n].style[e]=t,this;if(s.test(e)&&"number"==typeof t&&0!=t)return this.elems[n].style[e]=t+"px",this}},height:function(e){return e=e||0,this.elems[e].offsetHeight},width:function(e){return e=e||0,this.elems[e].offsetWidth},html:function(e){function t(e,t){for(var s=t.length-1;s>=0;s--)e.appendChild(t[s])}if(!this.elems[0])return console.warn("Docms.tips:val() 对象不存在"),!1;if(void 0!==e){var s=/table|thead|tbody|tfoot|tr|th|td/i;if(/msie\s*[789]\.0/i.test(navigator.userAgent)&&s.test(this.elems[0].nodeName)){for(var n,i=d.createElement(i),r=this.elems[0].childNodes.length,o=r-1;o>=0;o--)this.elems[0].removeChild(this.elems[0].childNodes[o]);if(i.innerHTML="<table>"+e+"</table>",/^\s*<\s*(thead|tbody|tfoot)/i.test(e))n=i.children[0],t(this.elems[0],n.children);else if(/^\s*<\s*tr/i.test(e))n=i.children[0].children[0],t(this.elems[0],n.children);else if(/^\s*<\s*(th|td)/i.test(e))n=i.children[0].children[0].children[0],t(this.elems[0],n.children);else for(o=(r=(n=i.children[0]).childNodes.length)-1;o>=0;o--)s.test(n.childNodes[o].nodeName)||this.elems[0].appendChild(n.childNodes[o])}else this.elems[0].innerHTML=e;return this}return this.elems[0].innerHTML},val:function(e){return this.elems[0]?void 0!==e?(this.elems[0].value=e,this):this.elems[0].value:(console.warn("Docms.tips:val() 对象不存在"),!1)},isElems:function(){}},Docms.query=function(e,t){t=t||d;var s,n=e.match(/\s+|>|[^\s>]+/g),i=!1,r=[t];if(n.length){for(var o,l=0;l<n.length;l++)if(s=[],n[l].trim()){if(">"==n[l]){i=!0;continue}if(i){for(h=0;h<r.length;h++)(o=r[h].children).length&&(s=s.concat(Docms.arrConvert(o)));r=Docms.elemsFilter(s,n[l])}else{for(var h=0;h<r.length;h++)(o=Docms.getOne(n[l],r[h])).length&&(s=s.concat(o));r=s}}else i=!1;if(r.length&&r[0]!=t){s=[r[0]];for(var c,l=1;l<r.length;l++){c=!0;for(var m=0;m<s.length;m++)if(r[l]==s[m]){c=!1;break}c&&s.push(r[l])}return s}return[]}},Docms.getOne=function(e,t){if(t=t||d,"string"==typeof e&&e){var s=Docms.formatSelector(e),n=[];if("id"==s.type)return n.push(t.getElementById(s.n)),n;if("tag"==s.type&&(n=t.getElementsByTagName(s.t)).length)return Docms.arrConvert(n);if("class"==s.type){var i=Docms.regOfIndStr(s.n);if(t.getElementsByClassName){if((r=t.getElementsByClassName(s.n)).length)if(s.t)for(o=0;o<r.length;o++)r[o].nodeName==s.t&&n.push(r[o]);else n=Docms.arrConvert(r)}else for(var r=t.getElementsByTagName("*"),o=0;o<r.length;o++)s.t?i.test(r[o].className)&&r[o].nodeName==s.t&&n.push(r[o]):i.test(r[o].className)&&n.push(r[o])}return n}return console.info("Docms tips:getOne() 参数格式不对"),[]},Docms.getEventSrc=function(e){e=1==e?e:0;var t=w.event||arguments.callee.caller.arguments[0],s=t.srcElement||t.target;return e?s:t},Docms.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},Docms.regOfIndStr=function(e,t){if(t=t||"",t=t.replace(/\s/g,"").toLowerCase(),/[^gims]/i.test(t))throw new TypeError("Docms tips:regOfIndStr() Invalid RegExp ["+t+"]");return new RegExp("^"+e+"$|^"+e+"(?=\\s)|(?:\\s)"+e+"(?=\\s+)|(?:\\s)"+e+"$",t)},Docms.index=function(e){e instanceof Docms.fun.init&&(e=e[0]);for(var t=e.parentNode.children,s=0;s<t.length;s++)if(e==t[s])return s;return-1},Docms.getCss=function(e,t){return window.getComputedStyle?t?window.getComputedStyle(e,null)[t]:window.getComputedStyle(e,null):t?e.currentStyle[t]:e.currentStyle},Docms.wTop=function(e){if(e)return window.scrollTo(Docms.wLeft(),e),Docms.wTop();var t=[];return document.documentElement&&(t[t.length]=document.documentElement.scrollTop||0),document.body&&(t[t.length]=document.body.scrollTop||0),t[t.length]=window.scrollY||0,Math.max.apply(this,t)},Docms.wLeft=function(e){if(e)return window.scrollTo(e,Docms.wTop()),Docms.wLeft();var t=[];return document.documentElement&&(t[t.length]=document.documentElement.scrollLeft||0),document.body&&(t[t.length]=document.body.scrollLeft||0),t[t.length]=window.scrollX||0,Math.max.apply(this,t)},Docms.wHeight=function(){return document.documentElement.clientHeight},Docms.wWidth=function(){return document.documentElement.clientWidth},Docms.formatSelector=function(e){if("string"!=typeof e)throw new TypeError("Docms tips:formatSelector()"+e);/#/.test(e)&&(e=e.slice(e.indexOf("#")));var t={sn:null,type:null,t:null,m:null,n:null},s=e.match(/#|\.|[^#\.*]+|\*/g);return 1==s.length?(t.sn=0,t.type="tag",t.t=e.toUpperCase()):2==s.length?("#"==s[0]?(t.sn=1,t.type="id"):"."==s[0]&&(t.sn=2,t.type="class"),t.m=s[0],t.n=s[1]):3==s.length&&(t.sn=3,t.type="class",t.t=s[0].toUpperCase(),t.m=s[1],t.n=s[2]),t},Docms.elemsFilter=function(e,t){if(e instanceof Docms.fun.init&&(e=e.elems),e.length&&"string"==typeof t&&t){var s=Docms.formatSelector(t),n=[];if("id"==s.type)return n.push(d.getElementById(s.n)),n;"class"==s.type&&(reg=Docms.regOfIndStr(s.n));for(var i=0;i<e.length;i++)"class"==s.type&&reg.test(e[i].className)?s.t?e[i].nodeName==s.t&&n.push(e[i]):n.push(e[i]):"tag"==s.type&&e[i].nodeName==s.t&&n.push(e[i]);return n}return Docms.isArray(e)||console.info("Docms tips:elemsFilter() invalid elemsArr+exp"),[]},Docms.arrConvert=function(e){try{Docms.isArray(e)||(e=Array.prototype.slice.call(e))}catch(n){for(var t=0,s=[];t<e.length;t++)s[t]=e[t];e=s}return e},Docms.unique=function(e){for(var t,s=[e[0]],n=1;n<e.length;n++){t=!0;for(var i=0;i<s.length;i++)if(e[n]==s[i]){t=!1;break}t&&s.push(e[n])}return s},Docms.ajax=function(config){config=merge(config);var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("microsoft.XMLHTTP"),isPost=/post/i.test(config.type);config.data=jsonToStr(config.data),isPost||(config.url+=(config.url.indexOf("?")>-1?"&":"?")+(config.cache?"":(new Date).getTime()+"=1")+"&"+config.data),xhr.open(config.type,config.url,config.async),isPost&&xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),"function"==typeof config.beforeSend&&config.beforeSend(),xhr.send(config.data),xhr.onreadystatechange=function(){if(4==xhr.readyState&&("function"==typeof config.complete&&config.complete(xhr.status,xhr),"function"==typeof config.success)){if("json"==config.dataType.toLowerCase()){var data=[];try{data=eval("("+xhr.responseText+")")}catch(e){console.error("返回数据错误")}return void config.success(data,xhr)}config.success(xhr.responseText,xhr)}}},Docms.cookie=function(e,t,s){if(e=e||"",s=s||"",s=s.match(/([yMdhms]{1})(\d+)/))switch(s[1]){case"y":s=(new Date).setFullYear((new Date).getFullYear()+1*s[2]);break;case"M":s=(new Date).setMonth((new Date).getMonth()+1*s[2]);break;case"d":s=(new Date).setDate((new Date).getDate()+1*s[2]);break;case"h":s=(new Date).setHours((new Date).getHours()+1*s[2]);break;case"m":s=(new Date).setMinutes((new Date).getMinutes()+1*s[2]);break;case"s":s=(new Date).setSeconds((new Date).getSeconds()+1*s[2])}if(e){if("string"==typeof t||"number"==typeof t)return document.cookie=s?e+"="+escape(t)+";expires="+new Date(s).toUTCString():e+"="+escape(t),!0;var n=new RegExp("("+e+")=(.*?)($|(?=;))"),i=document.cookie.match(n);return i?unescape(i[2]):null}return document.cookie},Docms.prototype=Docms.fun,Docms.fun.init.prototype=Docms.prototype,w.DM||w.Docms)throw new Error("Docms tips:Object Docms|DM exist!");DM=w.Docms=Docms}(window,document),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*|\s*$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=0;return function(s){return e===s[t]?t:++t<s.length?arguments.callee(s):-1}(this)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind");var t=Array.prototype.slice.call(arguments,1),s=this,n=function(){},i=function(){return s.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i});