~function(w,d){function Docms(e,t){return new Docms.fun.init(e,t)}function jsonToGet(e){var t="";for(var s in e)t+=s+"="+e[s]+"&";return t=t.replace(/&+$/,"")}function merge(e){var t={type:"get",url:"",async:!0,cache:!1,data:{},dataType:"",success:function(){},beforeSend:function(){},complete:function(){}};e=e||{};for(var s in t)t[s]=void 0===e[s]?t[s]:e[s];return t}if(Docms.fun={name:"document manipulation set",init:function(e,t){this.elems=[],this.count=0,this.tempElems=[],this.isChaining=!1,this.parent=null,this.children=[],this.source=[],this.elemStack=[],this.getElems(e,t)},getElems:function(e,t){if(this.elems=[],"string"==typeof t&&(t=this.getElems(t).elems[0]),this.elems=[],t&&1===t.nodeType||(t&&1!==t.nodeType&&9!==t.nodeType&&console.error("Docms tips:getElems() invalid origin"),t=d),void 0==e||""==e)return this;if("object"==typeof e)e instanceof Docms.fun.init?this.elems=e.elems:1===e.nodeType||9===e.nodeType?this.elems[0]=e:e.length>0&&(this.elems=e);else{if("string"!=typeof e)return this;if(/^\s*<.*?>\s*$/.test(e)){var s=d.createElement("div");s.innerHTML=e,this.elems=s.children}if(/^#[^\s\.\#]+$/.test(e)&&d.getElementById(e.replace("#",""))&&(this.elems[0]=d.getElementById(e.replace("#",""))),/^!?[A-z]+[1-6]?$|^\*$/.test(e)&&(this.elems=t.getElementsByTagName(e)),/^([A-z]+[1-6]?)?\.[^\s]+$/.test(e)){var i,n,o=e.match(/^([A-z]+[1-6]?)|\.|[^\s\.]+$/g);if(3==o.length){i=t.getElementsByTagName(o[0]),n=Docms.regOfIndStr(o[2]);for(r=0;r<i.length;r++)n.test(i[r].className)&&this.elems.push(i[r])}else if(2==o.length)if(d.getElementsByClassName)this.elems=t.getElementsByClassName(o[1]);else{i=t.getElementsByTagName("*"),n=Docms.regOfIndStr(o[1]);for(var r=0;r<i.length;r++)n.test(i[r].className)&&this.elems.push(i[r])}}}return this.resetElems(),this},resetElems:function(e){if(e&&(this.elems=e),this.count>this.elems.length)for(t=0;t<this.count-this.elems.length;t++)delete this[this.count-1-t];this.count=this.elems.length;try{this.elems=Array.prototype.slice.call(this.elems);for(t=0;t<this.elems.length;this[t]=this.elems[t++]);}catch(e){for(var t=0,s=[];t<this.elems.length;t++)this[t]=this.elems[t],s.push(this.elems[t]);this.elems=s,s=null}this.elems[0]?(this.parent=this.elems[0].parentNode,this.children=this.elems[0].children):(this.parent=null,this.children=[])},getByAttr:function(e,t,s){this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.isChaining=!0,t=t||"";var i,n=this.elems[0]||d,o=[],r=Docms.regOfIndStr(t),l=[],h=[];s=s||"*",o=Docms.fun.getElems(s,n).elems;for(var m=0;m<o.length;m++)(i="class"==e?o[m].className:o[m].getAttribute(e))&&((i=i.replace(/^\s*|\s*$/g,""))&&l.push(o[m]),"class"==e?t&&r.test(i)&&h.push(o[m]):i==t&&h.push(o[m]));return t?this.resetElems(h):this.resetElems(l),this},addClass:function(e){if(this.elems.length)for(var t=0;t<this.elems.length;t++)this.elems[t].className=""==this.elems[t].className?e:this.elems[t].className+" "+e;return this},removeClass:function(e){var t=Docms.regOfIndStr(e,"g");if(this.elems.length)for(var s=0;s<this.elems.length;s++)this.elems[s].className=this.elems[s].className.replace(t,"").replace(/^\s*|\s*$/g,"");return this},addEvent:function(e,t,s){if(s=s||!1,this.elems.length)for(var i=0;i<this.elems.length;i++)this.elems[i].addEventListener?this.elems[i].addEventListener(e,t,s):this.elems[i].attachEvent&&this.elems[i].attachEvent("on"+e,t)},isElems:function(){},fetch:function(e){if(void 0==e||e>=this.elems.length)throw new RangeError("Docms tips:fetch() n is out of index.");return this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.elems=[],this.elems[0]=this.isChaining?this.tempElems[e]:this.source[e],this.isChaining=!0,this.resetElems(),this},sup:function(e){if(!this.elems.length)return this;this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.elems=[],this.elems[0]=this.isChaining?this.tempElems[0]:this.source[0],this.isChaining=!0,e=e||0;do{this.elems[0]=this.elems[0].parentNode}while(e--);return this.resetElems(),this},sub:function(e){return this.elems.length?(this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,"string"==typeof e&&e?this.elems=Docms.elemsFilter(this.elems[0].children,e):"number"==typeof e?(this.elems=[],this.elems[0]=this.tempElems[0].children[e]):this.elems=this.elems[0].children,this.isChaining=!0,this.resetElems(),this):this},all:function(e,t){if(!this.elems.length)return this;if(arguments.length)for(var s=0,i="",n=!1;s<arguments.length;s++)"string"==typeof arguments[s]&&(i=arguments[s]),"boolean"==typeof arguments[s]&&(n=arguments[s]);e=i,t=n,this.isChaining?this.tempElems=this.elems:this.tempElems=this.source=this.elems,this.isChaining=!0;for(var o,r=[],s=0;s<this.elems.length;s++)o=[],o=this.elems[s].getElementsByTagName("*"),e&&(o=Docms.elemsFilter(o,e)),e||(o=Docms.arrConvert(o)),r=r.concat(o);return t&&(r=this.elems.concat(r)),this.elems=r,this.resetElems(),this},me:function(){return this.isChaining&&(this.isChaining=!1,this.tempElems=[],this.elems=this.source,this.resetElems()),this},hasAttr:function(e,t){if(!this.elems.length)return this;this.isChaining=!0,this.tempElems=this.elems,t=t||"";for(var s,i=Docms.regOfIndStr(t),n=[],o=[],r=0;r<this.elems.length;r++)(s="class"==e?this.elems[r].className:this.elems[r].getAttribute(e))&&((s=s.replace(/^\s*|\s*$/g,""))&&n.push(this.elems[r]),"class"==e?t&&i.test(s)&&o.push(this.elems[r]):s==t&&o.push(this.elems[r]));return this.elems=[],t?this.resetElems(o):this.resetElems(n),this},each:function(e){for(var t=0;t<this.elems.length;t++)this.elems[t].fn=e,this.elems[t].fn(t,this.elems[t]),delete this.elems[t].fn;return this},appendTo:function(e){e instanceof Docms.fun.init&&(e=e[0]);for(var t=0;t<this.elems.length;e.appendChild(this.elems[t++]));},append:function(e){if(e instanceof Docms.fun.init&&(e=e.elems),1==e.nodeType)this[0].appendChild(e);else for(var t=0;t<e.length;this[0].appendChild(e[t++]));},insert:function(e){},css:function(e,t){var s=/height|width|margin|padding|font|left|right|top|bottom/;if("object"==typeof e){for(var i in e)s.test(i)&&"number"==typeof e[i]&&0!=e[i]&&(e[i]+="px"),"opacity"==i&&(this.elems[0].style.filter="alpha(opacity="+100*e[i]+")"),this.elems[0].style[i]=e[i];return this}return t?"string"==typeof e?("opacity"==e&&(this.elems[0].style.filter="alpha(opacity="+100*t+")"),this.elems[0].style[e]=t,this):s.test(e)&&"number"==typeof t&&0!=t?(this.elems[0].style[e]=t+"px",this):void 0:window.getComputedStyle?e?window.getComputedStyle(this.elems[0],null)[e]:window.getComputedStyle(this.elems[0],null):e?this.elems[0].currentStyle[e]:this.elems[0].currentStyle},height:function(e){return e=e||0,this.elems[e].offsetHeight},width:function(e){return e=e||0,this.elems[e].offsetWidth},html:function(e){return void 0!=e?(this.elems[0].innerHTML=e,this):this.elems[0].innerHTML},val:function(e){return void 0!=e?(this.elems[0].value=e,this):this.elems[0].value}},Docms.getEventSrc=function(e){e=1==e?e:0;var t=w.event||arguments.callee.caller.arguments[0],s=t.srcElement||t.target;return e?s:t},Docms.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},Docms.regOfIndStr=function(e,t){if(t=t||"",t=t.replace(/\s/g,"").toLowerCase(),/[^gims]/i.test(t))throw new TypeError("Docms tips:regOfIndStr() Invalid RegExp ["+t+"]");return new RegExp("^"+e+"$|^"+e+"(?=\\s)|(?:\\s)"+e+"(?=\\s+)|(?:\\s)"+e+"$",t)},Docms.query=function(e,t,s){return s=s||!0,t&&1===t.nodeType||(t&&1!==t.nodeType&&9!==t.nodeType&&console.error("getElems() error: invalid parentArg"),t=d),s?t.querySelectorAll(e):t.querySelector(e)},Docms.index=function(e){e instanceof Docms.fun.init&&(e=e[0]);for(var t=e.parentNode.children,s=0;s<t.length;s++)if(e==t[s])return s;return-1},Docms.getCss=function(e,t){return window.getComputedStyle?t?window.getComputedStyle(e,null)[t]:window.getComputedStyle(e,null):t?e.currentStyle[t]:e.currentStyle},Docms.wTop=function(e){if(e)return window.scrollTo(Docms.wLeft(),e),Docms.wTop();var t=[];return document.documentElement&&(t[t.length]=document.documentElement.scrollTop||0),document.body&&(t[t.length]=document.body.scrollTop||0),t[t.length]=window.scrollY||0,Math.max.apply(this,t)},Docms.wLeft=function(e){if(e)return window.scrollTo(e,Docms.wTop()),Docms.wLeft();var t=[];return document.documentElement&&(t[t.length]=document.documentElement.scrollLeft||0),document.body&&(t[t.length]=document.body.scrollLeft||0),t[t.length]=window.scrollX||0,Math.max.apply(this,t)},Docms.wHeight=function(){return document.documentElement.clientHeight},Docms.wWidth=function(){return document.documentElement.clientWidth},Docms.formatSelector=function(e){if("string"!=typeof e)throw new TypeError("Docms tips:formatSelector()"+e);var t={sn:null,type:null,t:null,m:null,n:null},s=e.match(/#|\.|([A-z]+[1-6]?)+/g);return 1==s.length?(t.sn=0,t.type="tag",t.t=e.toUpperCase()):2==s.length?("#"==s[0]?(t.sn=1,t.type="id"):"."==s[0]&&(t.sn=3,t.type="class"),t.m=s[0],t.n=s[1]):3==s.length&&("#"==s[1]?(t.sn=2,t.type="id"):"."==s[1]&&(t.sn=4,t.type="class"),t.t=s[0].toUpperCase(),t.m=s[1],t.n=s[2]),t},Docms.elemsFilter=function(e,t){if(e instanceof Docms.fun.init&&(e=e.elems),e.length&&"string"==typeof t&&t){var s=Docms.formatSelector(t);"class"==s.type&&(reg=Docms.regOfIndStr(s.n));for(var i=[],n=0;n<e.length;n++){if("id"==s.type&&e[n].id==s.n){i.push(e[n]);break}if("class"==s.type&&reg.test(e[n].className)){if(s.t){e[n].nodeName==s.t&&i.push(e[n]);continue}i.push(e[n])}else"tag"==s.type&&e[n].nodeName==s.t&&i.push(e[n])}return i}return console.info("Docms tips:testElems() invalid elemsArr+exp"),[]},Docms.arrConvert=function(e){try{e=Array.prototype.slice.call(e)}catch(i){for(var t=0,s=[];t<e.length;t++)s[t]=e[t];e=s}return e},Docms.ajax=function(config){config=merge(config);var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("microsoft.XMLHTTP"),isPost=/post/i.test(config.type);config.data=jsonToGet(config.data),isPost||(config.url+=(config.url.indexOf("?")>-1?"&":"?")+(config.cache?"":(new Date).getTime()+"=1")+"&"+config.data),xhr.open(config.type,config.url,config.async),isPost&&xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),"function"==typeof config.beforeSend&&config.beforeSend(),xhr.send(config.data),xhr.onreadystatechange=function(){if(4==xhr.readyState&&("function"==typeof config.complete&&config.complete(xhr.status,xhr),"function"==typeof config.success)){if("json"==config.dataType.toLowerCase())return void config.success(eval("("+xhr.responseText+")"),xhr);config.success(xhr.responseText,xhr)}}},Docms.cookie=function(e,t){if(!(t=t||"")){var s=new RegExp("("+e+")=(.*?)($|(?=;))"),i=document.cookie.match(s);return i?decodeURIComponent(i[2]):null}document.cookie=e+"="+encodeURIComponent(t)},Docms.prototype=Docms.fun,Docms.fun.init.prototype=Docms.prototype,w.DM||w.Docms)throw new Error("Docms tips:Object Docms|DM exist!");DM=w.Docms=Docms}(window,document),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind");var t=Array.prototype.slice.call(arguments,1),s=this,i=function(){},n=function(){return s.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,n.prototype=new i,n});